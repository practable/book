package pretty

import (
	"fmt"
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestStringer(t *testing.T) {

	c := "404"
	m := "no manifest in body"
	e := PointyError{Code: &c, Message: &m}

	// The autogenerated swagger code use %+v for the formatting directive
	// return fmt.Sprintf("[GET /users/{user_name}/bookings][%d] getBookingsForUserInternalServerError  %+v", 500, o.Payload)

	actual := fmt.Sprintf("%+v", e)

	expected := `{"Code":"404","Message":"no manifest in body"}`

	assert.Equal(t, actual, expected)

}
